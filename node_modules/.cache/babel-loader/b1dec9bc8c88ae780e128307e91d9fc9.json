{"ast":null,"code":"import _toConsumableArray from\"/Users/Marvin/Developer/LaiOffer/Projects/starlink/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/Marvin/Developer/LaiOffer/Projects/starlink/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/Marvin/Developer/LaiOffer/Projects/starlink/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/Marvin/Developer/LaiOffer/Projects/starlink/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/Marvin/Developer/LaiOffer/Projects/starlink/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/Marvin/Developer/LaiOffer/Projects/starlink/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Row,Col}from'antd';import axios from'axios';import SatSetting from'./SatSetting';import SatelliteList from'./SatelliteList';import WorldMap from'./WorldMap';import{BASE_URL,NEARBY_SATELLITE,SAT_API_KEY,STARLINK_CATEGORY}from\"../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(){var _this;_classCallCheck(this,Main);_this=_super.call(this);_this.showNearbySatellite=function(setting){_this.setState({isLoadingList:true,setting:setting});_this.fetchSatellite(setting);};_this.fetchSatellite=function(setting){var latitude=setting.latitude,longitude=setting.longitude,elevation=setting.elevation,altitude=setting.altitude;var url=\"\".concat(BASE_URL,\"/api/\").concat(NEARBY_SATELLITE,\"/\").concat(latitude,\"/\").concat(longitude,\"/\").concat(elevation,\"/\").concat(altitude,\"/\").concat(STARLINK_CATEGORY,\"/&apiKey=\").concat(SAT_API_KEY);_this.setState({isLoadingList:true});axios.get(url).then(function(response){console.log(response.data);_this.setState({satInfo:response.data,isLoadingList:false});}).catch(function(error){console.log('err in fetch satellite -> ',error);});};_this.showMap=function(selected){_this.setState(function(preState){return _objectSpread(_objectSpread({},preState),{},{satList:_toConsumableArray(selected)});});};_this.state={satInfo:null,satList:null,setting:null,isLoadingList:false};return _this;}_createClass(Main,[{key:\"render\",value:function render(){var _this$state=this.state,isLoadingList=_this$state.isLoadingList,satInfo=_this$state.satInfo,satList=_this$state.satList,setting=_this$state.setting;return/*#__PURE__*/_jsxs(Row,{className:\"main\",children:[/*#__PURE__*/_jsxs(Col,{span:8,className:\"left-side\",children:[/*#__PURE__*/_jsx(SatSetting,{onShow:this.showNearbySatellite}),/*#__PURE__*/_jsx(SatelliteList,{satInfo:satInfo,isLoad:isLoadingList,onShowMap:this.showMap})]}),/*#__PURE__*/_jsx(Col,{span:16,className:\"right-side\",children:/*#__PURE__*/_jsx(WorldMap,{satData:satList,observerData:setting})})]});}}]);return Main;}(Component);export default Main;","map":{"version":3,"names":["React","Component","Row","Col","axios","SatSetting","SatelliteList","WorldMap","BASE_URL","NEARBY_SATELLITE","SAT_API_KEY","STARLINK_CATEGORY","Main","showNearbySatellite","setting","setState","isLoadingList","fetchSatellite","latitude","longitude","elevation","altitude","url","get","then","response","console","log","data","satInfo","catch","error","showMap","selected","preState","satList","state"],"sources":["/Users/Marvin/Developer/LaiOffer/Projects/starlink/src/components/Main.js"],"sourcesContent":["import React, {Component} from 'react';\nimport { Row, Col } from 'antd'\nimport axios from 'axios';\nimport SatSetting from './SatSetting';\nimport SatelliteList from './SatelliteList';\nimport WorldMap from './WorldMap';\nimport {BASE_URL, NEARBY_SATELLITE, SAT_API_KEY, STARLINK_CATEGORY} from \"../constants\";\n\n\nclass Main extends Component {\n    constructor(){\n        super();\n        this.state = {\n            satInfo: null,\n            satList: null,\n            setting: null,\n            isLoadingList: false\n        };\n    }\n    showNearbySatellite = (setting) => {\n        this.setState({\n            isLoadingList: true,\n            setting: setting\n        })\n        this.fetchSatellite(setting);\n    }\n\n    fetchSatellite= (setting) => {\n        const {latitude, longitude, elevation, altitude} = setting;\n        const url = `${BASE_URL }/api/${NEARBY_SATELLITE}/${latitude}/${longitude}/${elevation}/${altitude}/${STARLINK_CATEGORY}/&apiKey=${SAT_API_KEY}`;\n\n        this.setState({\n            isLoadingList: true\n        });\n\n        axios.get(url)\n            .then(response => {\n                console.log(response.data)\n                this.setState({\n                    satInfo: response.data,\n                    isLoadingList: false\n                })\n            })\n            .catch(error => {\n                console.log('err in fetch satellite -> ', error);\n            });\n    }\n\n    showMap = (selected) => {\n        this.setState(preState => ({\n            ...preState,\n            satList: [...selected]\n        }))\n    }\n\n\n    render() {\n        const { isLoadingList, satInfo, satList, setting }= this.state;\n        return (\n            <Row className=\"main\">\n              <Col span={8} className=\"left-side\">\n                <SatSetting onShow={this.showNearbySatellite} />\n                <SatelliteList\n                   satInfo={satInfo}\n                   isLoad={isLoadingList}\n                   onShowMap={this.showMap}\n                />\n              </Col>\n              <Col span={16} className=\"right-side\">\n                <WorldMap satData={satList} observerData={setting}/>\n              </Col>\n            </Row>\n        );\n    }\n}\n\nexport default Main;\n\n"],"mappings":"uyBAAA,MAAOA,MAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAASC,GAAT,CAAcC,GAAd,KAAyB,MAAzB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,WAAP,KAAuB,cAAvB,CACA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,MAAOC,SAAP,KAAqB,YAArB,CACA,OAAQC,QAAR,CAAkBC,gBAAlB,CAAoCC,WAApC,CAAiDC,iBAAjD,KAAyE,cAAzE,C,2FAGMC,K,4FACF,eAAa,sCACT,wBADS,MASbC,mBATa,CASS,SAACC,OAAD,CAAa,CAC/B,MAAKC,QAAL,CAAc,CACVC,aAAa,CAAE,IADL,CAEVF,OAAO,CAAEA,OAFC,CAAd,EAIA,MAAKG,cAAL,CAAoBH,OAApB,EACH,CAfY,OAiBbG,cAjBa,CAiBG,SAACH,OAAD,CAAa,CACzB,GAAOI,SAAP,CAAmDJ,OAAnD,CAAOI,QAAP,CAAiBC,SAAjB,CAAmDL,OAAnD,CAAiBK,SAAjB,CAA4BC,SAA5B,CAAmDN,OAAnD,CAA4BM,SAA5B,CAAuCC,QAAvC,CAAmDP,OAAnD,CAAuCO,QAAvC,CACA,GAAMC,IAAG,WAAMd,QAAN,iBAAuBC,gBAAvB,aAA2CS,QAA3C,aAAuDC,SAAvD,aAAoEC,SAApE,aAAiFC,QAAjF,aAA6FV,iBAA7F,qBAA0HD,WAA1H,CAAT,CAEA,MAAKK,QAAL,CAAc,CACVC,aAAa,CAAE,IADL,CAAd,EAIAZ,KAAK,CAACmB,GAAN,CAAUD,GAAV,EACKE,IADL,CACU,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACA,MAAKb,QAAL,CAAc,CACVc,OAAO,CAAEJ,QAAQ,CAACG,IADR,CAEVZ,aAAa,CAAE,KAFL,CAAd,EAIH,CAPL,EAQKc,KARL,CAQW,SAAAC,KAAK,CAAI,CACZL,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0CI,KAA1C,EACH,CAVL,EAWH,CApCY,OAsCbC,OAtCa,CAsCH,SAACC,QAAD,CAAc,CACpB,MAAKlB,QAAL,CAAc,SAAAmB,QAAQ,wCACfA,QADe,MAElBC,OAAO,oBAAMF,QAAN,CAFW,IAAtB,EAIH,CA3CY,CAET,MAAKG,KAAL,CAAa,CACTP,OAAO,CAAE,IADA,CAETM,OAAO,CAAE,IAFA,CAGTrB,OAAO,CAAE,IAHA,CAITE,aAAa,CAAE,KAJN,CAAb,CAFS,aAQZ,C,uCAsCD,iBAAS,CACL,gBAAoD,KAAKoB,KAAzD,CAAQpB,aAAR,aAAQA,aAAR,CAAuBa,OAAvB,aAAuBA,OAAvB,CAAgCM,OAAhC,aAAgCA,OAAhC,CAAyCrB,OAAzC,aAAyCA,OAAzC,CACA,mBACI,MAAC,GAAD,EAAK,SAAS,CAAC,MAAf,wBACE,MAAC,GAAD,EAAK,IAAI,CAAE,CAAX,CAAc,SAAS,CAAC,WAAxB,wBACE,KAAC,UAAD,EAAY,MAAM,CAAE,KAAKD,mBAAzB,EADF,cAEE,KAAC,aAAD,EACG,OAAO,CAAEgB,OADZ,CAEG,MAAM,CAAEb,aAFX,CAGG,SAAS,CAAE,KAAKgB,OAHnB,EAFF,GADF,cASE,KAAC,GAAD,EAAK,IAAI,CAAE,EAAX,CAAe,SAAS,CAAC,YAAzB,uBACE,KAAC,QAAD,EAAU,OAAO,CAAEG,OAAnB,CAA4B,YAAY,CAAErB,OAA1C,EADF,EATF,GADJ,CAeH,C,kBAhEcb,S,EAmEnB,cAAeW,KAAf"},"metadata":{},"sourceType":"module"}